<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>CPU Scheduling Algorithm Simulator</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="toast-container position-fixed p-3" style="top: 3em; right: 0">
      <div
        class="toast align-items-center"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
        id="liveToast"
      >
        <div class="d-flex">
          <div class="toast-header text-danger pe-1 pt-2 fs-5">
            <i class="bi bi-exclamation-circle"></i>
          </div>
          <div class="toast-body ps-2" id="toast-body">Invalid Input.</div>
          <button
            type="button"
            class="btn-close me-2 m-auto"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
      </div>
      <div
        class="toast align-items-center"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
        id="liveToast1"
      >
        <div class="d-flex">
          <div class="toast-header text-success pe-1 pt-2 fs-5">
            <i class="bi bi-check2-all"></i>
          </div>
          <div class="toast-body ps-2" id="toast-body">
            Successfully Generated
          </div>
          <button
            type="button"
            class="btn-close me-2 m-auto"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
      </div>
    </div>

    <div class="d-flex flex-row nav w-100">
      <header class="header-bar flex-grow-1">
        <div class="d-flex gap-2 align-items-center hide">
          <div class="header-dots">●</div>
          <div class="header-dots">●</div>
          <div class="header-dots">●</div>
        </div>
        <h1 class="header-title">CPU SCHEDULING ALGORITHM SIMULATOR</h1>
        <div class="header-icons d-flex align-items-center">
          <button
            type="button"
            aria-label="Add"
            class="btn p-0 m-0"
            style="color: #ff7f50; font-size: 1.5rem; line-height: 1"
          >
            +
          </button>
        </div>
      </header>
      <i class="fas fa-cog hide"></i>
      <i class="fas fa-user-circle hide"></i>
    </div>

    <main class="container pt-3">
      <div class="d-flex align-items-start gy-3" id="cont">
        <div class="accordion wt" id="accordionExample">
          <div class="accordion-item">
            <h2 class="accordion-header input-container">
              <button
                class="accordion-button p-1 shadow-none border-0 shadow-none"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseOne"
                aria-expanded="false"
                aria-controls="collapseOne"
              >
                <i class="fas fa-search me-2"></i>
                <span id="selectedAlgorithm">Choose Algorithm</span>
              </button>
            </h2>
            <div
              id="collapseOne"
              class="accordion-collapse collapse"
              data-bs-parent="#accordionExample"
            >
              <ul class="select-algorithm p-0 m-0 border-0 accordion-body">
                <li class="algo" value="FCFS">FIRST COME FIRST SERVE</li>
                <li class="algo" value="SJF">SHORTEST JOB FIRST</li>
                <li class="algo" value="NPP">NON-PREEMPTIVE PRIORITY</li>
                <li class="algo" value="PP">PREEMPTIVE PRIORITY</li>
                <li class="algo" value="SRTF">SHORTEST REMAINING TIME FIRST</li>
                <li class="algo" value="RR">ROUND ROBIN</li>
              </ul>
            </div>
          </div>
        </div>

        <div
          class="d-flex flex-row flex-grow-1 align-items-center gap-2 end mt-2"
        >
          <div class="mx-auto mb-0" id="font-pacificos">
            Make Your Life Easier!
          </div>

          <i class="fas fa-star fs-3 star-icon "></i>
        </div>
      </div>

      <div class="row gy-3 mt-3 justify-content-center gap-3">
        <!-- Arrival Time -->
        <div class="col-auto d-flex flex-column flex-grow-1">
          <div class="input-container">
            <i class="fas fa-search"></i>
            <span class="input-label">Input Arrival Time</span>
            <span aria-label="Close" class="input-close"> × </span>
          </div>
          <input
            type="text"
            class="input-box"
            placeholder="Ex. 0, 3, 2, 5....."
            list="arrivalTimeSuggestions"
          />
          <datalist id="arrivalTimeSuggestions">
            <option value="0, 1, 2, 3, 4"></option>
            <option value="0, 3, 2, 5"></option>
            <option value="1, 2, 3, 4, 5"></option>
          </datalist>
        </div>

        <!-- Burst Time -->
        <div class="col-auto d-flex flex-column flex-grow-1">
          <div class="input-container">
            <i class="fas fa-search"></i>
            <span class="input-label">Input Burst Time</span>
            <span aria-label="Close" class="input-close"> × </span>
          </div>
          <input
            type="text"
            class="input-box"
            placeholder="Ex. 13, 17, 2, 9...."
            list="burstTimeSuggestions"
          />
          <datalist id="burstTimeSuggestions">
            <option value="2, 5, 2, 9, 3"></option>
            <option value="10, 5, 8, 7"></option>
            <option value="4, 6, 3, 2"></option>
          </datalist>
        </div>

        <!-- Priority Time -->
        <div class="col-auto flex-column flex-grow-1" id="extraInputGroup">
          <div class="input-container">
            <i class="fas fa-search"></i>
            <span class="input-label" id="extraInputLabel"
              >Input Priority Time</span
            >
            <span aria-label="Close" class="input-close"> × </span>
          </div>
          <input
            type="text"
            id="meron"
            class="input-box extraInput"
            placeholder="Ex. 1, 2, 3, 4...."
            list="priorityTimeSuggestions"
          />
          <datalist id="priorityTimeSuggestions">
            <option value="1, 2, 3, 4, 5"></option>
            <option value="3, 1, 2, 4"></option>
            <option value="5, 3, 1, 2"></option>
          </datalist>
        </div>
      </div>

      <div
        class="d-flex align-items-center justify-content-center flex-wrap generate"
      >
        <button class="btn-generate py-2" id="calculate">Generate Table</button>
      </div>
    </main>
    <main class="containers bg-c">
      <div
        class="row flex-row mt-4 gy-4 gap-1 justify-content-center"
        id="rows"
      >
        <div
          class="col d-flex flex-column justify-content-center align-items-center"
        >
          <div class="d-flex align-items-center" style="position: relative">
            <i
              class="fas fa-star fs-3 star-icon"
              style="position: absolute; top: 15px; left: -30px"
            ></i>
            <span class="section-title" id="title"
              >NON - PREEMPTIVE PRIORITY</span
            >
          </div>
          <table
            class="table table-borderes border-2 border-dark"
            id="processDisplayTable"
          >
            <thead id="tableHead"></thead>
            <tbody id="tableBody" class="bg-light"></tbody>
          </table>
        </div>

        <div class="col d-flex flex-column align-items-center">
          <div class="section-title">TURN-AROUND TIME:</div>
          <table class="table border-dark" id="resultTable">
            <tbody></tbody>
          </table>
        </div>

        <div class="col d-flex flex-column align-items-center">
          <div class="section-title">WAITING TIME:</div>
          <table class="table border-dark" id="resultTableWaitingTime">
            <tbody></tbody>
          </table>
        </div>
      </div>
      <div class="row mt-5 gy-4 gap-1 justify-content-center" id="rows1">
        <div class="col d-flex flex-column align-items-center">
          <div class="section-title d-flex justify-content-center">
            TIMELINE:
          </div>
          <div id="timeline" class="d-flex flex-row mt-1"></div>
        </div>

        <div
          class="col d-flex flex-column align-items-center"
          style="overflow-x: auto"
        >
          <div class="section-title d-flex justify-content-center">
            GANTT CHART
          </div>

          <div id="ganttChart" class="mt-2">
            <div id="head" class="d-flex flex-row"></div>
            <div id="gbody" class="d-flex flex-row"></div>
            <div id="tail" class="d-flex flex-row"></div>
            <div id="queue" class="d-flex flex-row"></div>
          </div>
        </div>

        <div
          class="col d-flex flex-column align-items-center cpu"
          style="overflow-x: auto"
        >
          <div class="section-title d-flex justify-content-center">
            CPU UTILIZATION %
          </div>
          <div class="cpuResult d-flex gap-3 fw-normal align-items-center justify-content-center" id="cpuResult">
            <div class="d-flex flex-column align-items-center justify-content-center cpuComp">
                  <p id="process" class="text-center fw-normal fs-6 mb-1"></p>
                  <div class="cpu-vrline "></div>
                  <p id="completion" class="p-0 m-0 fs-6 fw-normal"></p>
                </div>
                <p class="d-flex justify-content-center align-items-center mb-0 fs-6 fw-normal">
                  <span id="waladin" class="p-0">  </span>
                   <div
                        class="d-flex flex-column align-items-center justify-items-center justify-content-center"
                      >
                        <div
                          class="d-flex border border-2 border-top-0 border-top-0 border-start-0 border-end-0 borders  pb-1 "
                          id="adds"
                          style="width: 100%;"
                        >
                        </div>
                        <span class="inline-block pt-1" id="burstt"> </span>
                      </div>
                      <span id="wala" class="d-flex align-items-center"></span>
                  <div id="cpuTotal" style="height: fit-content"
                    class="px-2 bg-blue rounded ms-2 fs-6 fw-normal py-auto justify-content-center align-items-center d-flex"></div>
                </p>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-end mt-4 hides" id="check"></div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js" type="module"></script>
    <script>
      // Select all list items inside the algorithm selector
      document.querySelectorAll(".select-algorithm .algo").forEach((item) => {
        item.addEventListener("click", function () {
          const selectedText = this.textContent;
          document.getElementById("selectedAlgorithm").textContent =
            selectedText;

          // Close the accordion by removing the 'show' class
          const collapseEl = document.getElementById("collapseOne");
          if (collapseEl.classList.contains("show")) {
            new bootstrap.Collapse(collapseEl, {
              toggle: true,
            });
          }
        });
      });
    </script>
  </body>
</html>
